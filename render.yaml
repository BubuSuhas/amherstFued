services:
  - type: web
    name: familyfeud
    env: node
    plan: free
    autoDeploy: true
    buildCommand: |
      npm ci
      npm run build
      npm install --prefix server
    startCommand: node server/index.js
    healthCheckPath: /api/ping
    envVars:
      - key: NODE_VERSION
        value: 20
      # Optional: enable AI clustering by setting one of these in Render Dashboard
      # - key: OPENAI_API_KEY
      #   sync: false
      # - key: AI_PROVIDER
      #   value: azure
      # - key: AZURE_OPENAI_API_KEY
      #   sync: false
      # - key: AZURE_OPENAI_ENDPOINT
      #   sync: false
      # - key: AZURE_OPENAI_DEPLOYMENT
      #   sync: false
      # - key: AZURE_OPENAI_API_VERSION
      #   value: 2024-02-15-preview
